{"version":3,"sources":["components/Layout/UserPic/styles.ts","components/Layout/UserPic/index.tsx","components/Layout/SearchBar/styles.ts","api/httpClient.ts","utils/date/dateFormatter.ts","api/url.ts","utils/date/getPreviousWeekDay.ts","utils/date/getMonthStartEnd.ts","api/getTickers.ts","components/Layout/SearchBar/components/Adornment/styles.ts","components/Layout/SearchBar/components/Adornment/index.tsx","context/index.tsx","components/Layout/SearchBar/index.tsx","hooks/useDebouncedCallback.ts","utils/highlightMatch.tsx","components/Layout/SearchResultsList/styles.ts","components/Layout/SearchResultsList/index.tsx","api/getPriceAggregates.ts","api/getTickerPrice.ts","components/Layout/styles.ts","components/Layout/index.tsx","api/getTickerDetails.ts","pages/home/TickerDetails/TickerTitle/styles.ts","pages/home/TickerDetails/TickerTitle/index.tsx","utils/withoutCountryCode.ts","pages/home/TickerDetails/AboutTicker/Address/index.tsx","pages/home/TickerDetails/AboutTicker/GeneralInfo/Category/index.tsx","pages/home/TickerDetails/AboutTicker/GeneralInfo/index.tsx","utils/usLocalePhoneNumber.ts","pages/home/TickerDetails/AboutTicker/index.tsx","pages/home/TickerDetails/Description/styles.ts","pages/home/TickerDetails/SectionTitle/index.tsx","pages/home/TickerDetails/Description/index.tsx","pages/home/TickerDetails/AddressMap/index.tsx","theme/index.ts","pages/home/TickerDetails/RelatedStocks/index.tsx","pages/home/TickerDetails/Tags/index.tsx","pages/home/TickerDetails/TickerPrice/index.tsx","pages/home/TickerDetails/AggregatesChart/index.tsx","pages/home/index.tsx","App.tsx","index.tsx"],"names":["useStyles","makeStyles","userPic","width","height","margin","marginTop","borderRadius","backgroundColor","UserPic","className","root","paddingLeft","paddingBottom","httpClient","axios","create","baseURL","timeout","headers","Authorization","process","dateFormatter","formatWithOptions","locale","enUS","openCloseURL","stocksTicker","date","Date","isWeekend","isMonday","previousFriday","sub","days","getPreviousWeekDay","priceAggregatesURL","today","months","getMonthStartEnd","from","to","getTickers","tickerName","url","params","active","sort","order","limit","search","useIconStyles","colorPrimary","color","Adornment","classesIcon","position","classes","initialState","ticker","tickerDetails","error","searchResults","results","TickerStateContext","createContext","displayName","TickerDispatchContext","undefined","tickerReducer","state","action","type","payload","TickerProvider","children","useReducer","dispatch","Provider","value","useTickerState","context","useContext","Error","useTickerDispatch","SearchBar","isSearchSelected","classesTextField","useState","setTickerName","callback","wait","runOnMount","debouncedCallback","useMemo","debounce","ref","useRef","useEffect","current","cancel","useDebouncedCallback","useCallback","a","response","data","isAxiosError","message","TextField","placeholder","fullWidth","onChange","event","target","InputProps","startAdornment","disableUnderline","highlightMatch","text","matches","match","parts","parse","map","part","index","highlight","useListStyles","zIndex","top","right","useTextStyles","fontWeight","useListItemStyles","SearchResultsList","liClasses","mt","textAlign","fontSize","List","Array","isArray","name","button","onClick","handleTickerSelect","getPriceAggregates","getTickerPrice","theme","display","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","spacing","drawerPaper","content","flexGrow","padding","border","Layout","useTheme","mobileOpen","setMobileOpen","handleDrawerToggle","selectedTicker","requestTickerDetails","Promise","allSettled","get","detailsRes","priceRes","aggregatesRes","details","reason","price","aggregates","console","log","CssBaseline","AppBar","Toolbar","IconButton","edge","Boolean","length","Hidden","smUp","implementation","Drawer","variant","anchor","direction","open","onClose","paper","ModalProps","keepMounted","xsDown","symbol","TickerTitle","symbolStyle","nameStyle","component","withoutCountryCode","phone","trimmed","trim","replace","Address","hq_address","hq_country","countryName","test","fontStyle","GeneralInfoCategory","category","ml","GeneralInfo","number","sector","industry","ceo","employees","Number","isNaN","Intl","NumberFormat","format","AboutTicker","generalInfoProps","addressProps","title","justifyContent","alignSelf","SectionTitle","Description","description","checked","setChecked","showCollapseToggler","setShowCollapseToggler","useLayoutEffect","getBoundingClientRect","flexDirection","Collapse","in","collapsedSize","prev","disableRipple","AddressMap","URIencoded","encodeURI","src","style","createTheme","palette","primary","main","secondary","success","RelatedStocks","similar","stock","i","size","Tags","tags","tag","textTransform","cursor","arrowDown","arrowUp","TickerPrice","close","priceDiff","asNumber","toFixed","asPercentage","AggregatesChart","ResponsiveContainer","LineChart","Line","strokeWidth","dataKey","stroke","dot","ErrorMessage","mb","includes","WithFallback","Component","HomePage","p","xs","sm","container","item","md","App","ThemeProvider","ReactDOM","render","document","getElementById"],"mappings":"gLAEaA,EAAYC,YAAW,CAClCC,QAAS,CACPC,MAAO,GACPC,OAAQ,GACRC,OAAQ,OACRC,UAAW,GACXC,aAAc,MACdC,gBAAiB,a,OCPRC,EAAU,WACrB,IAAQP,EAAYF,IAAZE,QACR,OAAO,qBAAKQ,UAAWR,K,kHCFZF,EAAYC,IAAW,CAClCU,KAAM,CACJL,UAAW,GACXM,YAAa,GACbC,cAAe,K,kBCJNC,EAAaC,IAAMC,OAAO,CACrCC,QAAS,0BAETC,QAAS,IACTC,QAAS,CAAEC,cAAc,UAAD,OAAYC,uC,2BCHzBC,EAAgBC,YAAkB,CAAEC,OAAQC,KAAQ,c,2BCIpDC,EAAe,SAACC,GAAD,+BACRA,EADQ,YCJM,WAAwB,IAAvBC,EAAsB,uDAAf,IAAIC,KAC5C,OAAOC,YAAUF,IAASG,YAASH,GAC/BN,EAAcU,YAAeJ,IAC7BN,EAAcW,YAAIL,EAAM,CAAEM,KAAM,KDEFC,KAEvBC,EAAqB,SAACT,GACjC,MER8B,WAC9B,IAAMU,EAAQ,IAAIR,KAMlB,MAAO,CAJMP,EAAcW,YAAII,EAAO,CAAEC,OAAQ,KAErChB,EAAce,IFGNE,GAAnB,mBAAOC,EAAP,KAAaC,EAAb,KAEA,MAAM,mBAAN,OAA0Bd,EAA1B,wBAAsDa,EAAtD,YAA8DC,IGVnDC,EAAa,SAACC,GACzB,OAAO7B,EAAW,CAChB8B,IHFsB,wBGGtBC,OAAQ,CACNC,QAAQ,EACRC,KAAM,SACNC,MAAO,MACPC,MAAO,GACPC,OAAQP,M,sDCTDQ,EAAgBlD,IAAW,CACtCmD,aAAc,CACZC,MAAO,UCAEC,EAAY,WACvB,IAAMC,EAAcJ,IAEpB,OACE,cAAC,IAAD,CAAgBK,SAAS,QAAzB,SACE,cAAC,IAAD,CAAYH,MAAM,UAAUI,QAASF,O,QCarCG,EAAe,CACnBC,OAAQ,KACRC,cAAe,KACfC,MAAO,KACPC,cAAe,CAAEC,QAAS,GAAgBb,OAAQ,KAG9Cc,EAAqBC,wBAAc,IACzCD,EAAmBE,YAAc,qBAEjC,IAAMC,EAAwBF,6BAAoCG,GAGlE,SAASC,EAAcC,EAAcC,GACnC,OAAQA,EAAOC,MACb,IAAK,mBACH,OAAO,2BACFF,GADL,IAEER,cAAe,CACbC,QAASQ,EAAOE,QAAQV,QACxBb,OAAQqB,EAAOE,QAAQvB,UAI7B,IAAK,YACH,OAAO,2BACFoB,GADL,IAEEX,OAAQY,EAAOE,UAGnB,IAAK,mBACH,OAAO,2BACFH,GADL,IAEEV,cAAeW,EAAOE,UAG1B,IAAK,WACH,OAAO,2BACFH,GADL,IAEET,MAAOU,EAAOE,UAGlB,QACE,OAAOH,GAKb,SAASI,GAAT,GAA4D,IAAlCC,EAAiC,EAAjCA,SAExB,EAA0BC,qBAAWP,EAAeX,GAApD,mBAAOY,EAAP,KAAcO,EAAd,KAEA,OACE,cAACb,EAAmBc,SAApB,CAA6BC,MAAOT,EAApC,SACE,cAACH,EAAsBW,SAAvB,CAAgCC,MAAOF,EAAvC,SACGF,MAMT,SAASK,KACP,IAAMC,EAAUC,qBAAWlB,GAC3B,QAAgBI,IAAZa,EACF,MAAM,IAAIE,MAAM,uDAElB,OAAOF,EAGT,SAASG,KACP,IAAMP,EAAWK,qBAAWf,GAC5B,QAAiBC,IAAbS,EACF,MAAM,IAAIM,MAAM,0DAElB,OAAON,EA/DTV,EAAsBD,YAAc,wBCpB7B,IAAMmB,GAAY,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,iBACpBC,EAAmBvF,IAEnB6E,EAAWO,KAGjB,EAAoCI,mBAAS,IAA7C,mBAAO7C,EAAP,KAAmB8C,EAAnB,KA+CA,OC/DkC,SAClCC,GAGI,IAFJC,EAEG,uDAFI,IACPC,EACG,wDACH,GAAoB,kBAATD,GAAqBA,EAAO,EACrC,MAAM,IAAIR,MAAM,gCAElB,IAAMU,EAAoBC,mBACxB,kBAAMC,IAASL,EAAUC,KACzB,CAACD,EAAUC,IAGPK,EAAMC,kBAAQL,GAEpBM,qBAAU,WAGR,OAFKF,EAAIG,SAASN,IAClBG,EAAIG,SAAU,EACP,WACLN,EAAkBO,YAEnB,CAACP,IDkCJQ,CAjCuBC,sBAAW,sBAAC,gCAAAC,EAAA,yDACd,KAAf5D,EAD6B,yCAExBkC,EAAS,CACdL,KAAM,mBACNC,QAAS,CAAEV,QAAS,GAAIb,OAAQ,OAJH,gCAUvBR,EAAWC,GAVY,cASzB6D,EATyB,OAarBzC,EACNyC,EADFC,KAAQ1C,QAbqB,kBAgBxBc,EAAS,CACdL,KAAM,mBACNC,QAAS,CAAEV,UAASb,OAAQP,MAlBC,sCAqB3B5B,IAAM2F,aAAN,MArB2B,0CAsBtB7B,EAAS,CACdL,KAAM,WACNC,SAAS,2CAAO+B,gBAAP,eAAiBC,OAAQ,WAxBP,QA2B3B,gBAAiBtB,OACnBN,EAAS,CAAEL,KAAM,WAAYC,QAAS,KAAMkC,UA5Bf,0DA+BhC,CAAC9B,EAAUlC,KAIduD,qBAAU,WACJZ,GACFG,EAAc,MAEf,CAACH,IAGF,cAACsB,EAAA,EAAD,CACEC,YAAY,8BACZC,WAAS,EACTrD,QAAS8B,EACTR,MAAOpC,EACPoE,SAnDiB,SAACC,GACpBvB,EAAcuB,EAAMC,OAAOlC,QAmDzBmC,WAAY,CACVC,eAAgB,cAAC,EAAD,IAChBC,kBAAkB,M,kHExEbC,GAAiB,SAC5BC,EACApE,EACAxC,GAEA,IAAM6G,EAAUC,KAAMF,EAAMpE,GACtBuE,EAAQC,KAAMJ,EAAMC,GAE1B,OACE,8BACGE,EAAME,KAAI,SAACC,EAAMC,GAAP,OACT,sBAAkBnH,UAAWkH,EAAKE,UAAYpH,EAAY,GAA1D,SACGkH,EAAKN,MADGO,SCZNE,GAAgB9H,YAAW,CACtCU,KAAM,CACJ6C,SAAU,WACVwE,OAAQ,GACRC,IAAK,GACLC,MAAO,EACP/H,MAAO,OACPK,gBAAiB,aAIR2H,GAAgBlI,YAAW,CACtC6H,UAAW,CACTM,WAAY,OAIHC,GAAoBpI,YAAW,CAC1CU,KAAM,CACJC,YAAa,MCRJ0H,GAAoB,SAAC,GAAqB,IAAnB7B,EAAkB,EAAlBA,KAC1BqB,EAAcK,KAAdL,UACFrE,EAAUsE,KACVQ,EAAYF,KAEZxD,EAAWO,KAETrB,EAAoB0C,EAApB1C,QAASb,EAAWuD,EAAXvD,OAMjB,OAAgB,OAAZa,EAEA,cAAC,KAAD,CACEyE,GAAI,EACJC,UAAU,SACVjF,SAAS,WACTyE,IAAI,OACJ9H,MAAM,OACNuI,SAAS,OANX,8BAcF,cAACC,GAAA,EAAD,CAAM,aAAW,iCAAiClF,QAASA,EAA3D,SACGmF,MAAMC,QAAQ9E,IACbA,EAAQ4D,KAAI,YAAuB,IAApBhE,EAAmB,EAAnBA,OAAQmF,EAAW,EAAXA,KACrB,OACE,eAAC,KAAD,CAEErF,QAAS8E,EACTQ,QAAM,EACNC,QAAS,kBA5BM,SAACrF,GAC1BkB,EAAS,CAAEL,KAAM,YAAaC,QAASd,IA2BdsF,CAAmBtF,IAJpC,UAME,cAAC,KAAD,UACGT,EAASmE,GAAe1D,EAAQT,EAAQ4E,GAAanE,IAExD,cAAC,KAAD,UACGT,EAASmE,GAAeyB,EAAM5F,EAAQ4E,GAAagB,MATjDnF,SC5CNuF,GAAqB,SAACvG,GACjC,OAAO7B,EAAW,CAChB8B,IAAKR,EAAmBO,MCFfwG,GAAiB,SAACxG,GAC7B,OAAO7B,EAAW,CAChB8B,IAAKlB,EAAaiB,M,UCDT3C,GAAYC,aAAW,SAACmJ,GAAD,MAAY,CAC9CzI,KAAM,CACJ0I,QAAS,QAEXC,OAAO,gBACJF,EAAMG,YAAYC,GAAG,MAAQ,CAC5BrJ,MARc,GASdsJ,WAAY,IAGhBC,OAAO,gBACJN,EAAMG,YAAYC,GAAG,MAAQ,CAC5BrJ,MAAM,eAAD,OAdS,GAcT,OACLwJ,WAfc,KAkBlBC,WAAW,cACTC,YAAaT,EAAMU,QAAQ,IAC1BV,EAAMG,YAAYC,GAAG,MAAQ,CAC5BH,QAAS,SAGbU,YAAa,CACX5J,MAzBgB,GA0BhBK,gBAAiB,WAEnBwJ,QAAS,CACPC,SAAU,EACVC,QAAQ,GAAD,OAAKd,EAAMU,QAAQ,GAAnB,QACPK,OAAQ,OACR7J,UAAW,QCNF8J,GAAS,SAAC,GAAyB,IAAD,EAAtBzF,EAAsB,EAAtBA,SACjBlB,EAAUzD,KACVoJ,EAAQiB,cACd,EAAoC7E,oBAAS,GAA7C,mBAAO8E,EAAP,KAAmBC,EAAnB,KAEMC,EAAqB,WACzBD,GAAeD,IAGjB,EAAkDtF,KAA1ClB,EAAR,EAAQA,cAAuB2G,EAA/B,EAAuB9G,OACjBkB,EAAWO,KAgDjB,OA9CAc,qBAAU,WACR,IAAMwE,EAAoB,uCAAG,WAAOD,GAAP,6BAAAlE,EAAA,+EAE2BoE,QAAQC,WAAW,ECxC9CjI,EDyCN8H,ECxClB3J,EAAW+J,IhBAkB,2BgBAwBlI,EhBAxB,ceyC5BwG,GAAesB,GACfvB,GAAmBuB,KALI,mCAElBK,EAFkB,KAENC,EAFM,KAEIC,EAFJ,KAQnBC,GACJ,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAsCI,SACvCJ,EAA+D/F,MAC7D0B,KAEC0E,GACJ,OAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAoCG,SACrCH,EAA2DhG,MACzD0B,KAEC2E,GACJ,OAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAyCE,SAEzCF,EAGAjG,MAAM0B,KAAK1C,QAQfc,EAAS,CAAEL,KAAM,mBAAoBC,QANf,CACpBwG,UACAE,QACAC,gBAIFvG,EAAS,CACPL,KAAM,mBACNC,QAAS,CAAEV,QAAS,GAAIb,OAAQ,MAnCT,kDAsCzBmI,QAAQC,IAAI,CAAEzH,MAAK,OAtCM,kCCtCD,IAAClB,IDsCA,qBAAH,sDA0CH,OAAnB8H,GAAyBC,EAAqBD,KACjD,CAAC5F,EAAU4F,IAGZ,sBAAK/J,UAAW+C,EAAQ9C,KAAxB,UACE,cAAC4K,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CAAQhI,SAAS,QAAQH,MAAM,UAAU3C,UAAW+C,EAAQiG,OAA5D,SACE,eAAC+B,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACErI,MAAM,UACN,aAAW,cACXsI,KAAK,QACL3C,QAASwB,EACT9J,UAAW+C,EAAQmG,WALrB,SAOE,cAAC,IAAD,MAGF,cAAC,GAAD,CAAWtE,iBAAkBsG,QAAQnB,MAET,OAA1B3G,EAAcC,UACd,UAAAD,EAAcC,eAAd,eAAuB8H,QAAS,IAChC,cAAC,GAAD,CAAmBpF,KAAM3C,SAK/B,sBAAKpD,UAAW+C,EAAQ6F,OAAxB,UACE,cAACwC,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,MAA5B,SACE,cAACC,EAAA,EAAD,CACEC,QAAQ,YACRC,OAA4B,QAApB/C,EAAMgD,UAAsB,QAAU,OAC9CC,KAAM/B,EACNgC,QAAS9B,EACT/G,QAAS,CACP8I,MAAO9I,EAAQsG,aAEjByC,WAAY,CACVC,aAAa,GATjB,SAYE,cAAC,EAAD,QAIJ,cAACX,EAAA,EAAD,CAAQY,QAAM,EAACV,eAAe,MAA9B,SACE,cAACC,EAAA,EAAD,CACExI,QAAS,CACP8I,MAAO9I,EAAQsG,aAEjBmC,QAAQ,YACRG,MAAI,EALN,SAOE,cAAC,EAAD,WAKN,sBAAM3L,UAAW+C,EAAQuG,QAAzB,SAAmCrF,Q,oBE3I5B3E,GAAYC,YAAW,CAClC0M,OAAQ,CACN9C,YAAa,GACbzB,WAAY,IACZM,SAAU,IAEZI,KAAM,CACJJ,SAAU,MCJDkE,GAAc,YAGjB,IAFRD,EAEO,EAFPA,OACA7D,EACO,EADPA,KAEA,EAAiD9I,KAAjC6M,EAAhB,EAAQF,OAA2BG,EAAnC,EAA6BhE,KAE7B,OACE,oCACE,cAAC,KAAD,CACEoD,QAAQ,KACRa,UAAU,KACV1D,QAAQ,SACR3I,UAAWmM,EAJb,SAMGF,IAEH,cAAC,KAAD,CAAYtD,QAAQ,SAAS0D,UAAU,OAAOrM,UAAWoM,EAAzD,SACGhE,QCtBIkE,GAAqB,SAACC,GACjC,IAAMC,EAAUD,EAAME,OACtB,MAAgB,KAAZD,EAAuB,IACpBA,EAAQE,QAAQ,SAAU,KCEtBC,GAAU,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,WAAYC,EAA+B,EAA/BA,WAAYN,EAAmB,EAAnBA,MAC1CO,EAAc,QAAQC,KAAKF,GAAc,gBAAkBA,EACjE,OACE,eAAC,KAAD,CAAKR,UAAU,UAAU5M,MAAO,IAAKuN,UAAU,SAAShF,SAAU,GAAlE,UACE,cAAC,KAAD,UAAM4E,IACN,cAAC,KAAD,UAAME,IACN,cAAC,KAAD,CAAKhF,GAAG,MAAR,SAAewE,GAAmBC,SCH3BU,GAAsB,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,SAAU7I,EAAmB,EAAnBA,MAC9C,OACE,gCACE,eAAC,KAAD,CAAYsE,QAAQ,SAAS6C,QAAQ,QAArC,UACG0B,EADH,OAGA,cAAC,KAAD,CAAKb,UAAU,OAAOc,GAAG,MAAMnF,SAAU,GAAIN,WAAW,OAAxD,SACGrD,QCVI+I,GAAc,SAAC,GAAiD,ICLzCC,EDKNC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,SAAUC,EAA4B,EAA5BA,IAAKC,EAAuB,EAAvBA,UACnD,OACE,gCACE,cAAC,GAAD,CAAqBP,SAAS,SAAS7I,MAAOiJ,IAE9C,cAAC,GAAD,CAAqBJ,SAAS,WAAW7I,MAAOkJ,IAEhD,cAAC,GAAD,CAAqBL,SAAS,MAAM7I,MAAOmJ,IAE3C,cAAC,GAAD,CACEN,SAAS,YACT7I,OChB4BgJ,EDgBDI,ECfX,kBAAXJ,GAAuBK,OAAOC,MAAMN,GAAgB,IACxD,IAAIO,KAAKC,aAAa,SAASC,OAAOT,UCclCU,GAAc,YASjB,IARR9B,EAQO,EARPA,OASM+B,EAAmB,CAAEV,OADpB,EAPPA,OAQmCC,SAD5B,EANPA,SAO6CC,IADtC,EALPA,IAMkDC,UAD3C,EAJPA,WAMMQ,EAAe,CAAErB,WAFhB,EAHPA,WAKmCC,WAF5B,EAFPA,WAI+CN,MAFxC,EADPA,OAIM2B,EAAK,gBAAYjC,GAEvB,OACE,eAAC,KAAD,CAAKI,UAAU,UAAf,UACE,cAAC,KAAD,CAAKA,UAAU,KAAKrE,SAAS,OAAON,WAAW,OAAOI,GAAG,QAAzD,SACGoG,IAGH,eAAC,KAAD,CAAKpG,GAAI,EAAGa,QAAQ,OAAOwF,eAAe,gBAAgB1O,MAAM,OAAhE,UACE,cAAC,GAAD,eAAiBuO,IAEjB,cAAC,KAAD,CAAKb,GAAG,OAAR,SACE,cAAC,GAAD,eAAac,a,wECtCV3O,GAAYC,YAAW,CAClCU,KAAM,CACJR,MAAO,cACP2O,UAAW,YCHFC,GAAe,SAAC,GAAwC,IAAtCpK,EAAqC,EAArCA,SAC7B,OACE,cAAC,KAAD,CAAKoI,UAAU,KAAKrE,SAAS,OAAON,WAAW,OAA/C,SACGzD,KCSMqK,GAAc,YAAqD,IAAtBC,EAAqB,EAArBA,YACxD,EAA8BzJ,oBAAS,GAAvC,mBAAO0J,EAAP,KAAgBC,EAAhB,KACA,EAAsD3J,oBAAS,GAA/D,mBAAO4J,EAAP,KAA4BC,EAA5B,KACMrJ,EAAMC,iBAAoC,MAC1CxC,EAAUzD,KAchB,OAVAsP,2BAAgB,WACM,OAAhBtJ,EAAIG,UACaH,EAAIG,QAAQoJ,wBAAvBnP,OAZS,KAcf+O,GAAW,GACXE,GAAuB,OAG1B,IAGD,eAAC,KAAD,CAAKtC,UAAU,UAAU1D,QAAQ,OAAOmG,cAAc,SAAtD,UACE,cAAC,GAAD,0BAEA,qCACE,cAACC,GAAA,EAAD,CAAUC,IAAKR,EAASS,cAzBT,GAyBf,SACE,cAAC,KAAD,CAAYzD,QAAQ,QAAQa,UAAU,IAAI/G,IAAKA,EAA/C,SACGiJ,MAIJG,GACC,cAAC,KAAD,CAAQpG,QAxBK,kBAAMmG,GAAW,SAACS,GAAD,OAAWA,MAwBVC,eAAa,EAACpM,QAASA,EAAtD,SACGyL,EAAU,cAAC,KAAD,IAAqB,cAAC,KAAD,aCzC/BY,GAAa,YAAmD,IAArBxC,EAAoB,EAApBA,WAChDyC,EAAaC,UAAU1C,GAE7B,OACE,oCACE,cAAC,KAAD,CAAKP,UAAU,KAAKrE,SAAS,IAA7B,yBAGA,wBACEuH,IAAG,wCAAmCF,EAAnC,iBACH5P,MAAM,OACN+P,MAAO,CAAE/F,OAAQ,GACjByE,MAAM,gB,UCdDxF,GAAQ+G,aAAY,CAC/BC,QAAS,CACPC,QAAS,CACPC,KAAM,WAERC,UAAW,CACTD,KAAM,WAERzM,MAAO,CACLyM,KAAM,WAERE,QAAS,CACPF,KAAM,cCPCG,GAAgB,YAAmD,IAAlBC,EAAiB,EAAjBA,QACtD7L,EAAWO,KAKjB,OACE,oCACE,cAAC,GAAD,6BACCsL,EAAQ/I,KAAI,SAACgJ,EAAOC,GACnB,OACE,cAAC,KAAD,CAEEC,KAAK,QACLX,MAAO,CACLrG,YAAa,GACbxG,MAAO,OACP7C,gBACEoQ,EAAI,EAAIxH,GAAMgH,QAAQI,QAAQF,KAAOlH,GAAMgH,QAAQvM,MAAMyM,MAE7DtH,QAAS,kBAhBjBnE,EAAS,CAAEL,KAAM,YAAaC,QAgBYkM,KATpC,SAWGA,GAVIA,UCbJG,GAAO,YAAuC,IAAfC,EAAc,EAAdA,KAC1C,OACE,oCACE,cAAC,GAAD,mBACCA,EAAKpJ,KAAI,SAACqJ,EAAKJ,GACd,OACE,cAAC,KAAD,CAEEC,KAAK,QACLX,MAAO,CACLrG,YAAa,GACbxG,MAAO,OACP4N,cAAe,OACfC,OAAQ,UACR1Q,gBACEoQ,EAAI,EACAxH,GAAMgH,QAAQC,QAAQC,KACtBlH,GAAMgH,QAAQG,UAAUD,MAXlC,SAcGU,GAbIA,UCVXG,GAAY,8CACZC,GAAU,8CAEHC,GAAc,YAAgD,IAAtBhF,EAAqB,EAArBA,KAAMiF,EAAe,EAAfA,MACnDC,EAAY,CAChBC,SAAUpD,QAAQkD,EAAQjF,GAAMoF,QAAQ,IACxCC,aAActD,SAAUkD,EAAQjF,GAAQA,EAAQ,KAAKoF,QAAQ,KAG/D,OACE,oCACE,eAAC,KAAD,CAAK1E,UAAU,OAAOrE,SAAS,OAA/B,cACI4I,KAGJ,eAAC,KAAD,CACEvE,UAAU,OACVrE,SAAS,OACTN,WAAW,OACX/E,MACEkO,EAAUC,SAAW,EACjBpI,GAAMgH,QAAQvM,MAAMyM,KACpBlH,GAAMgH,QAAQI,QAAQF,KAP9B,UAUE,cAAC,KAAD,CAAKvD,UAAU,OAAOc,GAAG,OAAzB,SACG0D,EAAUC,WAEb,cAAC,KAAD,CAAKzE,UAAU,OAAOc,GAAG,OAAOnF,SAAS,OAAzC,SACG6I,EAAUC,SAAW,EAAIL,GAAYC,KAEvCG,EAAUG,aAhBb,W,8BCXOC,GAAkB,gBAC7BlL,EAD6B,EAC7BA,KAD6B,OAG7B,cAAC,KAAD,CAAKsG,UAAU,UAAUvE,GAAG,OAA5B,SACE,cAACoJ,GAAA,EAAD,CAAqBzR,MAAM,OAAOC,OAAQ,IAA1C,SACE,cAACyR,GAAA,EAAD,CAAW1R,MAAO,IAAKC,OAAQ,IAAKqG,KAAMA,EAA1C,SACE,cAACqL,GAAA,EAAD,CACEtN,KAAK,WACLuN,YAAa,EACbC,QAAQ,IACRC,OAAO,UACPC,KAAK,W,oBCFTC,GAAe,SAAC,GAA0C,IAAxCtO,EAAuC,EAAvCA,MACtB,OACE,cAAC,KAAD,CAAK2E,GAAG,OAAO4J,GAAG,OAAO1J,SAAS,OAAlC,SACoB,kBAAV7E,EACJA,EACAA,EAAM8C,SAAW9C,EAAM8C,QAAQ0L,SAAS,OACxC,yCACA,gDAKV,SAASC,GAAT,GAMI,IALF7L,EAKC,EALDA,KACA8L,EAIC,EAJDA,UAKA,OACE,mCACG9L,aAAgBtB,MACf,cAAC,GAAD,CAActB,MAAO4C,IAErB,cAAC8L,EAAD,eAAe9L,MAMhB,IAAM+L,GAAW,WACtB,IAAQ5O,EAAkBoB,KAAlBpB,cAER,GAAsB,OAAlBA,EAAwB,OAAO,KAEnC,IAAQqH,EAA+BrH,EAA/BqH,QAASE,EAAsBvH,EAAtBuH,MAAOC,EAAexH,EAAfwH,WAExB,OACE,cAAC,KAAD,CAAKjL,MAAM,OAAX,SACE,eAAC,KAAD,CAAKsS,EAAG,CAAEC,GAAI,OAAQC,GAAI,aAA1B,UACE,eAAC,KAAD,CAAMC,WAAS,EAACxG,UAAU,SAA1B,UACE,eAAC,KAAD,CAAMyG,MAAI,EAAV,UACE,cAACP,GAAD,CACE7L,KAAMwE,EACNsH,UAAW3F,KAGb,cAAC0F,GAAD,CAA2B7L,KAAM0E,EAAOoH,UAAWlB,QAGrD,cAAC,KAAD,CAAMwB,MAAI,EAACH,GAAI,GAAII,GAAI,GAAvB,SACyB,kBAAf1H,GAA2BA,aAAsBjG,MACvD,cAAC,GAAD,CAActB,MAAOuH,IAErB,cAAC,GAAD,CAAiB3E,KAAM2E,SAK7B,eAAC,KAAD,CAAMwH,WAAS,EAACxG,UAAU,SAA1B,UACE,eAAC,KAAD,CAAMyG,MAAI,EAACD,WAAS,EAAC/D,eAAe,gBAAgB/E,QAAS,EAA7D,UACE,cAAC,KAAD,CAAM+I,MAAI,EAACC,GAAI,EAAf,SACE,cAACR,GAAD,CACE7L,KAAMwE,EACNsH,UAAW9D,OAIf,cAAC,KAAD,CAAMoE,MAAI,EAACH,GAAI,GAAII,GAAI,EAAvB,SACE,cAACR,GAAD,CACE7L,KAAMwE,EACNsH,UAAWzC,UAKjB,eAAC,KAAD,CACE+C,MAAI,EACJD,WAAS,EACTxG,UAAU,MACVyC,eAAe,gBACf/E,QAAS,EALX,UAOE,cAAC,KAAD,CAAM+I,MAAI,EAACC,GAAI,EAAf,SACE,cAACR,GAAD,CACE7L,KAAMwE,EACNsH,UAAWvD,OAIf,eAAC,KAAD,CAAM6D,MAAI,EAACC,GAAI,EAAf,UACE,cAACR,GAAD,CACE7L,KAAMwE,EACNsH,UAAW9B,KAGb,cAAC6B,GAAD,CAAyB7L,KAAMwE,EAASsH,UAAWzB,oBC9FlDiC,OAZf,WACE,OACE,cAACC,EAAA,EAAD,CAAe5J,MAAOA,GAAtB,SACE,cAAC1E,GAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,WCRVuO,IAASC,OAAO,cAAC,GAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.0afd82b7.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles({\n  userPic: {\n    width: 35,\n    height: 35,\n    margin: \"auto\",\n    marginTop: 16,\n    borderRadius: \"50%\",\n    backgroundColor: \"#001458\",\n  },\n});\n","import { useStyles } from \"./styles\";\n\nexport const UserPic = () => {\n  const { userPic } = useStyles();\n  return <div className={userPic}></div>;\n};\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nexport const useStyles = makeStyles({\n  root: {\n    marginTop: 10,\n    paddingLeft: 15,\n    paddingBottom: 5,\n  },\n});\n","import axios from \"axios\";\n\nexport const httpClient = axios.create({\n  baseURL: \"https://api.polygon.io/\",\n  // method: \"GET\",\n  timeout: 4000,\n  headers: { Authorization: `Bearer ${process.env.REACT_APP_API_KEY}` },\n});\n","import { formatWithOptions } from \"date-fns/fp\";\nimport { enUS } from \"date-fns/locale\";\n\nexport const dateFormatter = formatWithOptions({ locale: enUS }, \"yyyy-MM-dd\");\n","import { getMonthStartEnd } from \"utils/date/getMonthStartEnd\";\nimport { getPreviousWeekDay } from \"utils/date/getPreviousWeekDay\";\n\nexport const tickersURL = \"/v3/reference/tickers\";\nexport const createTickerDetailsURL = (stocksTicker: string) =>\n  `/v1/meta/symbols/${stocksTicker}/company`;\n\nexport const openCloseURL = (stocksTicker: string) =>\n  `/v1/open-close/${stocksTicker}/${getPreviousWeekDay()}`;\n\nexport const priceAggregatesURL = (stocksTicker: string) => {\n  const [from, to] = getMonthStartEnd();\n\n  return `/v2/aggs/ticker/${stocksTicker}/range/1/day/${from}/${to}`;\n};\n","import { isWeekend, isMonday, previousFriday, sub } from \"date-fns\";\nimport { dateFormatter } from \"./dateFormatter\";\n\nexport const getPreviousWeekDay = (date = new Date()) => {\n  return isWeekend(date) || isMonday(date)\n    ? dateFormatter(previousFriday(date))\n    : dateFormatter(sub(date, { days: 1 }));\n};\n","import { sub } from \"date-fns\";\nimport { dateFormatter } from \"./dateFormatter\";\n\nexport const getMonthStartEnd = () => {\n  const today = new Date();\n\n  const from = dateFormatter(sub(today, { months: 1 }));\n\n  const to = dateFormatter(today);\n\n  return [from, to];\n};\n","import { httpClient } from \"./httpClient\";\nimport { tickersURL } from \"./url\";\n\nexport const getTickers = (tickerName: string) => {\n  return httpClient({\n    url: tickersURL,\n    params: {\n      active: true,\n      sort: \"ticker\",\n      order: \"asc\",\n      limit: 10,\n      search: tickerName,\n    },\n  });\n};\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nexport const useIconStyles = makeStyles({\n  colorPrimary: {\n    color: \"grey\",\n  },\n});\n","import InputAdornment from \"@material-ui/core/InputAdornment/InputAdornment\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { useIconStyles } from \"./styles\";\n\nexport const Adornment = () => {\n  const classesIcon = useIconStyles();\n\n  return (\n    <InputAdornment position='start'>\n      <SearchIcon color='primary' classes={classesIcon} />\n    </InputAdornment>\n  );\n};\n","import { createContext, ReactNode, useContext, useReducer } from \"react\";\n\ntype Action =\n  | {\n      type: \"setSearchResults\";\n      payload: { results: Ticker[] | null; search: string };\n    }\n  | { type: \"setTicker\"; payload: string }\n  | { type: \"setTickerDetails\"; payload: SelectedTickerDetails | null }\n  | { type: \"setError\"; payload: string };\n\ntype Dispatch = (action: Action) => void;\n\ntype State = {\n  ticker: string | null;\n  tickerDetails: SelectedTickerDetails | null;\n  error: string | null;\n  searchResults: { results: Ticker[] | null; search: string };\n};\n\ntype TickerProviderProps = { children: ReactNode };\n\nconst initialState = {\n  ticker: null,\n  tickerDetails: null,\n  error: null,\n  searchResults: { results: [] as Ticker[], search: \"\" },\n} as State;\n\nconst TickerStateContext = createContext({} as State);\nTickerStateContext.displayName = \"TickerStateContext\";\n\nconst TickerDispatchContext = createContext<Dispatch | undefined>(undefined);\nTickerDispatchContext.displayName = \"TickerDispatchContext\";\n\nfunction tickerReducer(state: State, action: Action) {\n  switch (action.type) {\n    case \"setSearchResults\": {\n      return {\n        ...state,\n        searchResults: {\n          results: action.payload.results,\n          search: action.payload.search,\n        },\n      };\n    }\n    case \"setTicker\": {\n      return {\n        ...state,\n        ticker: action.payload,\n      };\n    }\n    case \"setTickerDetails\": {\n      return {\n        ...state,\n        tickerDetails: action.payload,\n      };\n    }\n    case \"setError\": {\n      return {\n        ...state,\n        error: action.payload,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n\nfunction TickerProvider({ children }: TickerProviderProps) {\n  // @ts-ignore\n  const [state, dispatch] = useReducer(tickerReducer, initialState);\n\n  return (\n    <TickerStateContext.Provider value={state}>\n      <TickerDispatchContext.Provider value={dispatch}>\n        {children}\n      </TickerDispatchContext.Provider>\n    </TickerStateContext.Provider>\n  );\n}\n\nfunction useTickerState() {\n  const context = useContext(TickerStateContext);\n  if (context === undefined) {\n    throw new Error(\"useTickerState must be used within a TickerProvider\");\n  }\n  return context;\n}\n\nfunction useTickerDispatch() {\n  const dispatch = useContext(TickerDispatchContext);\n  if (dispatch === undefined) {\n    throw new Error(\"useTickerDispatch must be used within a TickerProvider\");\n  }\n  return dispatch;\n}\n\nexport { TickerProvider, useTickerState, useTickerDispatch };\n","import TextField from \"@material-ui/core/TextField\";\nimport { ChangeEvent, useCallback, useEffect, useState } from \"react\";\nimport { useStyles } from \"./styles\";\nimport axios, { AxiosResponse } from \"axios\";\nimport { getTickers } from \"api/getTickers\";\nimport { useDebouncedCallback } from \"../../../hooks/useDebouncedCallback\";\nimport { Adornment } from \"./components/Adornment\";\nimport { useTickerDispatch } from \"context\";\n\ntype Props = {\n  isSearchSelected: boolean;\n};\n\nexport const SearchBar = ({ isSearchSelected }: Props) => {\n  const classesTextField = useStyles();\n\n  const dispatch = useTickerDispatch();\n\n  // `tickerName` stands for ticker symbol and company name\n  const [tickerName, setTickerName] = useState(\"\");\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setTickerName(event.target.value);\n  };\n\n  const requestTickers = useCallback(async () => {\n    if (tickerName === \"\") {\n      return dispatch({\n        type: \"setSearchResults\",\n        payload: { results: [], search: \"\" },\n      });\n    }\n\n    try {\n      const response: AxiosResponse<{ results: Ticker[] | null }> =\n        await getTickers(tickerName);\n\n      const {\n        data: { results },\n      } = response;\n\n      return dispatch({\n        type: \"setSearchResults\",\n        payload: { results, search: tickerName },\n      });\n    } catch (error) {\n      if (axios.isAxiosError(error)) {\n        return dispatch({\n          type: \"setError\",\n          payload: error?.response?.data || \"error\",\n        });\n      }\n      if (error instanceof Error) {\n        dispatch({ type: \"setError\", payload: error.message });\n      }\n    }\n  }, [dispatch, tickerName]);\n\n  useDebouncedCallback(requestTickers);\n\n  useEffect(() => {\n    if (isSearchSelected) {\n      setTickerName(\"\");\n    }\n  }, [isSearchSelected]);\n\n  return (\n    <TextField\n      placeholder='Search symbols or companies'\n      fullWidth\n      classes={classesTextField}\n      value={tickerName}\n      onChange={handleChange}\n      InputProps={{\n        startAdornment: <Adornment />,\n        disableUnderline: true,\n      }}\n    />\n  );\n};\n","import debounce from \"lodash.debounce\";\nimport { useEffect, useMemo, useRef } from \"react\";\n\nexport const useDebouncedCallback = (\n  callback: (...args: any[]) => any,\n  wait = 500,\n  runOnMount = false\n) => {\n  if (typeof wait !== \"number\" || wait < 0)\n    throw new Error(\"`wait` must be a number >= 0\");\n\n  const debouncedCallback = useMemo(\n    () => debounce(callback, wait),\n    [callback, wait]\n  );\n\n  const ref = useRef(!runOnMount);\n\n  useEffect(() => {\n    if (!ref.current) debouncedCallback();\n    ref.current = false;\n    return () => {\n      debouncedCallback.cancel();\n    };\n  }, [debouncedCallback]);\n};\n","import parse from \"autosuggest-highlight/parse\";\nimport match from \"autosuggest-highlight/match\";\n\nexport const highlightMatch = (\n  text: string,\n  search: string,\n  className: string\n) => {\n  const matches = match(text, search);\n  const parts = parse(text, matches);\n\n  return (\n    <div>\n      {parts.map((part, index) => (\n        <span key={index} className={part.highlight ? className : \"\"}>\n          {part.text}\n        </span>\n      ))}\n    </div>\n  );\n};\n","import { makeStyles } from \"@material-ui/core\";\n\nexport const useListStyles = makeStyles({\n  root: {\n    position: \"absolute\",\n    zIndex: 10,\n    top: 65,\n    right: 0,\n    width: \"100%\",\n    backgroundColor: \"#ffffff\",\n  },\n});\n\nexport const useTextStyles = makeStyles({\n  highlight: {\n    fontWeight: 700,\n  },\n});\n\nexport const useListItemStyles = makeStyles({\n  root: {\n    paddingLeft: 70,\n  },\n});\n","import Box from \"@material-ui/core/Box/Box\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText/ListItemText\";\nimport { SearchResults } from \"components/Layout\";\nimport { useTickerDispatch } from \"context\";\nimport { highlightMatch } from \"utils/highlightMatch\";\nimport { useTextStyles, useListStyles, useListItemStyles } from \"./styles\";\n\ntype Props = {\n  data: SearchResults;\n};\n\nexport const SearchResultsList = ({ data }: Props) => {\n  const { highlight } = useTextStyles();\n  const classes = useListStyles();\n  const liClasses = useListItemStyles();\n\n  const dispatch = useTickerDispatch();\n\n  const { results, search } = data;\n\n  const handleTickerSelect = (ticker: string) => {\n    dispatch({ type: \"setTicker\", payload: ticker });\n  };\n\n  if (results === null) {\n    return (\n      <Box\n        mt={3}\n        textAlign='center'\n        position='absolute'\n        top='80px'\n        width='100%'\n        fontSize='18px'\n      >\n        No Results Found\n      </Box>\n    );\n  }\n\n  return (\n    <List aria-label='ticker symbol and company name' classes={classes}>\n      {Array.isArray(results) &&\n        results.map(({ ticker, name }) => {\n          return (\n            <ListItem\n              key={ticker}\n              classes={liClasses}\n              button\n              onClick={() => handleTickerSelect(ticker)}\n            >\n              <ListItemText>\n                {search ? highlightMatch(ticker, search, highlight) : ticker}\n              </ListItemText>\n              <ListItemText>\n                {search ? highlightMatch(name, search, highlight) : name}\n              </ListItemText>\n            </ListItem>\n          );\n        })}\n    </List>\n  );\n};\n","import { httpClient } from \"./httpClient\";\nimport { priceAggregatesURL } from \"./url\";\n\nexport const getPriceAggregates = (tickerName: string) => {\n  return httpClient({\n    url: priceAggregatesURL(tickerName),\n  });\n};\n","import { httpClient } from \"./httpClient\";\nimport { openCloseURL } from \"./url\";\n\nexport const getTickerPrice = (tickerName: string) => {\n  return httpClient({\n    url: openCloseURL(tickerName),\n  });\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst drawerWidth = 72;\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: \"#B6B7C3\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: `${theme.spacing(3)}px 0`,\n    border: \"none\",\n    marginTop: 40,\n  },\n}));\n","import { UserPic } from \"components/Layout/UserPic\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { ReactNode, useEffect, useState } from \"react\";\nimport { SearchBar } from \"components/Layout/SearchBar\";\nimport { SearchResultsList } from \"./SearchResultsList\";\nimport { getPriceAggregates } from \"api/getPriceAggregates\";\nimport { getTickerPrice } from \"api/getTickerPrice\";\nimport { getTickerDetails } from \"api/getTickerDetails\";\nimport { useStyles } from \"./styles\";\nimport { useTickerDispatch, useTickerState } from \"context\";\n\ntype Props = {\n  children?: ReactNode;\n};\n\nexport type SearchResults = {\n  results: Ticker[] | null;\n  search: string;\n};\n\nexport const Layout = ({ children }: Props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const { searchResults, ticker: selectedTicker } = useTickerState();\n  const dispatch = useTickerDispatch();\n\n  useEffect(() => {\n    const requestTickerDetails = async (selectedTicker: string) => {\n      try {\n        const [detailsRes, priceRes, aggregatesRes] = await Promise.allSettled([\n          getTickerDetails(selectedTicker),\n          getTickerPrice(selectedTicker),\n          getPriceAggregates(selectedTicker),\n        ]);\n\n        const details =\n          ((detailsRes as PromiseRejectedResult)?.reason as Error) ||\n          (detailsRes as PromiseFulfilledResult<{ data: TickerDetails }>).value\n            .data;\n\n        const price =\n          ((priceRes as PromiseRejectedResult)?.reason as Error) ||\n          (priceRes as PromiseFulfilledResult<{ data: TickerPrice }>).value\n            .data;\n\n        const aggregates =\n          ((aggregatesRes as PromiseRejectedResult)?.reason as Error) ||\n          (\n            aggregatesRes as PromiseFulfilledResult<{\n              data: { results: PriceAggregate[] };\n            }>\n          ).value.data.results;\n\n        const tickerDetails = {\n          details,\n          price,\n          aggregates,\n        };\n\n        dispatch({ type: \"setTickerDetails\", payload: tickerDetails });\n        dispatch({\n          type: \"setSearchResults\",\n          payload: { results: [], search: \"\" },\n        });\n      } catch (error) {\n        console.log({ error });\n      }\n    };\n\n    if (selectedTicker !== null) requestTickerDetails(selectedTicker);\n  }, [dispatch, selectedTicker]);\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position='fixed' color='inherit' className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color='inherit'\n            aria-label='open drawer'\n            edge='start'\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <SearchBar isSearchSelected={Boolean(selectedTicker)} />\n\n          {(searchResults.results === null ||\n            searchResults.results?.length > 0) && (\n            <SearchResultsList data={searchResults} />\n          )}\n        </Toolbar>\n      </AppBar>\n\n      <nav className={classes.drawer}>\n        <Hidden smUp implementation='css'>\n          <Drawer\n            variant='temporary'\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true,\n            }}\n          >\n            <UserPic />\n          </Drawer>\n        </Hidden>\n\n        <Hidden xsDown implementation='css'>\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant='permanent'\n            open\n          >\n            <UserPic />\n          </Drawer>\n        </Hidden>\n      </nav>\n\n      <main className={classes.content}>{children}</main>\n    </div>\n  );\n};\n","import { httpClient } from \"./httpClient\";\nimport { createTickerDetailsURL } from \"./url\";\n\nexport const getTickerDetails = (tickerName: string) => {\n  return httpClient.get<TickerDetails>(createTickerDetailsURL(tickerName));\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles({\n  symbol: {\n    marginRight: 10,\n    fontWeight: 600,\n    fontSize: 22,\n  },\n  name: {\n    fontSize: 18,\n  },\n});\n","import Typography from \"@material-ui/core/Typography/Typography\";\nimport { useStyles } from \"./styles\";\n\nexport type TickerTitleProps = Pick<TickerDetails, \"symbol\" | \"name\">;\n\nexport const TickerTitle = <T extends TickerTitleProps>({\n  symbol,\n  name,\n}: T) => {\n  const { symbol: symbolStyle, name: nameStyle } = useStyles();\n\n  return (\n    <section>\n      <Typography\n        variant='h5'\n        component='h2'\n        display='inline'\n        className={symbolStyle}\n      >\n        {symbol}\n      </Typography>\n      <Typography display='inline' component='span' className={nameStyle}>\n        {name}\n      </Typography>\n    </section>\n  );\n};\n","export const withoutCountryCode = (phone: string) => {\n  const trimmed = phone.trim();\n  if (trimmed === \"\") return \"-\";\n  return trimmed.replace(/\\+1\\s*/, \"\");\n};\n","import Box from \"@material-ui/core/Box/Box\";\nimport { withoutCountryCode } from \"utils/withoutCountryCode\";\n\ntype Props = Pick<TickerDetails, \"hq_address\" | \"hq_country\" | \"phone\">;\n\nexport const Address = ({ hq_address, hq_country, phone }: Props) => {\n  const countryName = /usa?/i.test(hq_country) ? \"United States\" : hq_country;\n  return (\n    <Box component='address' width={170} fontStyle='normal' fontSize={16}>\n      <Box>{hq_address}</Box>\n      <Box>{countryName}</Box>\n      <Box mt='5px'>{withoutCountryCode(phone)}</Box>\n    </Box>\n  );\n};\n","import Box from \"@material-ui/core/Box/Box\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\n\ntype Props = {\n  category: string;\n  value: string;\n};\n\nexport const GeneralInfoCategory = ({ category, value }: Props) => {\n  return (\n    <div>\n      <Typography display='inline' variant='body1'>\n        {category}:\n      </Typography>\n      <Box component='span' ml='5px' fontSize={16} fontWeight='bold'>\n        {value}\n      </Box>\n    </div>\n  );\n};\n","import { usLocalePhoneNumber } from \"utils/usLocalePhoneNumber\";\nimport { GeneralInfoCategory } from \"./Category\";\n\ntype Props = Pick<TickerDetails, \"sector\" | \"industry\" | \"ceo\" | \"employees\">;\n\nexport const GeneralInfo = ({ sector, industry, ceo, employees }: Props) => {\n  return (\n    <div>\n      <GeneralInfoCategory category='Sector' value={sector} />\n\n      <GeneralInfoCategory category='Industry' value={industry} />\n\n      <GeneralInfoCategory category='CEO' value={ceo} />\n\n      <GeneralInfoCategory\n        category='Employees'\n        value={usLocalePhoneNumber(employees)}\n      />\n    </div>\n  );\n};\n","export const usLocalePhoneNumber = (number: number) => {\n  if (typeof number !== \"number\" || Number.isNaN(number)) return \"-\";\n  return new Intl.NumberFormat(\"us-US\").format(number);\n};\n","import Box from \"@material-ui/core/Box/Box\";\nimport { Address } from \"./Address\";\nimport { GeneralInfo } from \"./GeneralInfo\";\n\nexport type AboutTickerProps = Pick<\n  TickerDetails,\n  | \"symbol\"\n  | \"sector\"\n  | \"industry\"\n  | \"ceo\"\n  | \"employees\"\n  | \"hq_address\"\n  | \"hq_country\"\n  | \"phone\"\n>;\n\nexport const AboutTicker = <T extends AboutTickerProps>({\n  symbol,\n  sector,\n  industry,\n  ceo,\n  employees,\n  hq_address,\n  hq_country,\n  phone,\n}: T) => {\n  const generalInfoProps = { sector, industry, ceo, employees };\n  const addressProps = { hq_address, hq_country, phone };\n  const title = `About ${symbol}`;\n\n  return (\n    <Box component='section'>\n      <Box component='h3' fontSize='18px' fontWeight='bold' mt='-50px'>\n        {title}\n      </Box>\n\n      <Box mt={2} display='flex' justifyContent='space-between' width='100%'>\n        <GeneralInfo {...generalInfoProps} />\n\n        <Box ml='70px'>\n          <Address {...addressProps} />\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nexport const useStyles = makeStyles({\n  root: {\n    width: \"fit-content\",\n    alignSelf: \"center\",\n  },\n});\n","import Box from \"@material-ui/core/Box/Box\";\n\nexport const SectionTitle = ({ children }: { children: string }) => {\n  return (\n    <Box component='h3' fontSize='18px' fontWeight='bold'>\n      {children}\n    </Box>\n  );\n};\n","import Box from \"@material-ui/core/Box/Box\";\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport { useLayoutEffect, useRef, useState } from \"react\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport { useStyles } from \"./styles\";\nimport { SectionTitle } from \"../SectionTitle\";\n\nexport type DescriptionProps = Pick<TickerDetails, \"description\">;\n\nconst COLLAPSED_SIZE = 50;\n\nexport const Description = <T extends DescriptionProps>({ description }: T) => {\n  const [checked, setChecked] = useState(true);\n  const [showCollapseToggler, setShowCollapseToggler] = useState(true);\n  const ref = useRef<HTMLParagraphElement | null>(null);\n  const classes = useStyles();\n\n  const handleChange = () => setChecked((prev) => !prev);\n\n  useLayoutEffect(() => {\n    if (ref.current !== null) {\n      const { height } = ref.current.getBoundingClientRect();\n      if (height < COLLAPSED_SIZE) {\n        setChecked(false);\n        setShowCollapseToggler(false);\n      }\n    }\n  }, []);\n\n  return (\n    <Box component='section' display='flex' flexDirection='column'>\n      <SectionTitle>Description</SectionTitle>\n\n      <>\n        <Collapse in={!checked} collapsedSize={COLLAPSED_SIZE}>\n          <Typography variant='body1' component='p' ref={ref}>\n            {description}\n          </Typography>\n        </Collapse>\n\n        {showCollapseToggler && (\n          <Button onClick={handleChange} disableRipple classes={classes}>\n            {checked ? <ExpandMoreIcon /> : <ExpandLessIcon />}\n          </Button>\n        )}\n      </>\n    </Box>\n  );\n};\n","import Box from \"@material-ui/core/Box/Box\";\n\nexport type AddressMapProps = Pick<TickerDetails, \"hq_address\">;\n\nexport const AddressMap = <T extends AddressMapProps>({ hq_address }: T) => {\n  const URIencoded = encodeURI(hq_address);\n\n  return (\n    <section>\n      <Box component='h3' fontSize='0'>\n        Address map\n      </Box>\n      <iframe\n        src={`https://www.google.com/maps?q=${URIencoded}&output=embed`}\n        width='100%'\n        style={{ border: 0 }}\n        title='address'\n      ></iframe>\n    </section>\n  );\n};\n","import { createTheme } from \"@material-ui/core/styles\";\n\nexport const theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#5887D3\",\n    },\n    secondary: {\n      main: \"#8B40CB\",\n    },\n    error: {\n      main: \"#E83E3E\",\n    },\n    success: {\n      main: \"#58D38C\",\n    },\n  },\n});\n","import Button from \"@material-ui/core/Button/Button\";\nimport { useTickerDispatch } from \"context\";\nimport { theme } from \"theme\";\nimport { SectionTitle } from \"../SectionTitle\";\n\nexport type RelatedStocksProps = Pick<TickerDetails, \"similar\">;\n\nexport const RelatedStocks = <T extends RelatedStocksProps>({ similar }: T) => {\n  const dispatch = useTickerDispatch();\n\n  const handleTickerSelect = (ticker: string) =>\n    dispatch({ type: \"setTicker\", payload: ticker });\n\n  return (\n    <section>\n      <SectionTitle>Related Stocks</SectionTitle>\n      {similar.map((stock, i) => {\n        return (\n          <Button\n            key={stock}\n            size='small'\n            style={{\n              marginRight: 20,\n              color: \"#fff\",\n              backgroundColor:\n                i % 2 ? theme.palette.success.main : theme.palette.error.main,\n            }}\n            onClick={() => handleTickerSelect(stock)}\n          >\n            {stock}\n          </Button>\n        );\n      })}\n    </section>\n  );\n};\n","import Button from \"@material-ui/core/Button/Button\";\nimport { theme } from \"theme\";\nimport { SectionTitle } from \"../SectionTitle\";\n\nexport type TagsProps = Pick<TickerDetails, \"tags\">;\n\nexport const Tags = <T extends TagsProps>({ tags }: T) => {\n  return (\n    <section>\n      <SectionTitle>Tags</SectionTitle>\n      {tags.map((tag, i) => {\n        return (\n          <Button\n            key={tag}\n            size='small'\n            style={{\n              marginRight: 20,\n              color: \"#fff\",\n              textTransform: \"none\",\n              cursor: \"default\",\n              backgroundColor:\n                i % 2\n                  ? theme.palette.primary.main\n                  : theme.palette.secondary.main,\n            }}\n          >\n            {tag}\n          </Button>\n        );\n      })}\n    </section>\n  );\n};\n","import Box from \"@material-ui/core/Box/Box\";\nimport { theme } from \"theme\";\n\nconst arrowDown = <>&darr;</>;\nconst arrowUp = <>&uarr;</>;\n\nexport const TickerPrice = <T extends TickerPrice>({ open, close }: T) => {\n  const priceDiff = {\n    asNumber: Number((close - open).toFixed(2)),\n    asPercentage: Number((((close - open) / open) * 100).toFixed(2)),\n  };\n\n  return (\n    <section>\n      <Box component='span' fontSize='28px'>\n        ${close}\n      </Box>\n\n      <Box\n        component='span'\n        fontSize='18px'\n        fontWeight='bold'\n        color={\n          priceDiff.asNumber < 0\n            ? theme.palette.error.main\n            : theme.palette.success.main\n        }\n      >\n        <Box component='span' ml='10px'>\n          {priceDiff.asNumber}\n        </Box>\n        <Box component='span' ml='10px' fontSize='24px'>\n          {priceDiff.asNumber < 0 ? arrowDown : arrowUp}\n        </Box>\n        {priceDiff.asPercentage}%\n      </Box>\n    </section>\n  );\n};\n","import Box from \"@material-ui/core/Box/Box\";\nimport { ResponsiveContainer, LineChart, Line } from \"recharts\";\n\nexport type AggregatesChartProps = {\n  data: PriceAggregate[];\n};\n\nexport const AggregatesChart = <T extends AggregatesChartProps>({\n  data,\n}: T) => (\n  <Box component='section' mt='10px'>\n    <ResponsiveContainer width='100%' height={330}>\n      <LineChart width={400} height={400} data={data}>\n        <Line\n          type='monotone'\n          strokeWidth={4}\n          dataKey='c'\n          stroke='#E51616'\n          dot={false}\n        />\n      </LineChart>\n    </ResponsiveContainer>\n  </Box>\n);\n","import { TickerTitle, TickerTitleProps } from \"./TickerDetails/TickerTitle\";\nimport { AboutTicker, AboutTickerProps } from \"./TickerDetails/AboutTicker\";\nimport Box from \"@material-ui/core/Box/Box\";\nimport { Description, DescriptionProps } from \"./TickerDetails/Description\";\nimport { AddressMap, AddressMapProps } from \"./TickerDetails/AddressMap\";\nimport {\n  RelatedStocks,\n  RelatedStocksProps,\n} from \"./TickerDetails/RelatedStocks\";\nimport { Tags, TagsProps } from \"./TickerDetails/Tags\";\nimport { TickerPrice } from \"./TickerDetails/TickerPrice\";\nimport { AggregatesChart } from \"./TickerDetails/AggregatesChart\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\nimport { useTickerState } from \"context\";\nimport { ComponentType } from \"react\";\n\nconst ErrorMessage = ({ error }: { error: string | Error }) => {\n  return (\n    <Box mt='20px' mb='70px' fontSize='30px'>\n      {typeof error === \"string\"\n        ? error\n        : error.message && error.message.includes(\"429\")\n        ? \"5 requests limit - try 1 minute later!\"\n        : \"an error occurred. please, try again later\"}\n    </Box>\n  );\n};\n\nfunction WithFallback<T>({\n  data,\n  Component,\n}: {\n  data: Error | T;\n  Component: ComponentType<T>;\n}) {\n  return (\n    <>\n      {data instanceof Error ? (\n        <ErrorMessage error={data} />\n      ) : (\n        <Component {...data} />\n      )}\n    </>\n  );\n}\n\nexport const HomePage = () => {\n  const { tickerDetails } = useTickerState();\n\n  if (tickerDetails === null) return null;\n\n  const { details, price, aggregates } = tickerDetails;\n\n  return (\n    <Box width='100%'>\n      <Box p={{ xs: \"20px\", sm: \"30px 45px\" }}>\n        <Grid container direction='column'>\n          <Grid item>\n            <WithFallback<TickerTitleProps>\n              data={details}\n              Component={TickerTitle}\n            />\n\n            <WithFallback<TickerPrice> data={price} Component={TickerPrice} />\n          </Grid>\n\n          <Grid item xs={12} md={10}>\n            {typeof aggregates === \"string\" || aggregates instanceof Error ? (\n              <ErrorMessage error={aggregates} />\n            ) : (\n              <AggregatesChart data={aggregates as PriceAggregate[]} />\n            )}\n          </Grid>\n        </Grid>\n\n        <Grid container direction='column'>\n          <Grid item container justifyContent='space-between' spacing={5}>\n            <Grid item md={6}>\n              <WithFallback<AboutTickerProps>\n                data={details}\n                Component={AboutTicker}\n              />\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n              <WithFallback<AddressMapProps>\n                data={details}\n                Component={AddressMap}\n              />\n            </Grid>\n          </Grid>\n\n          <Grid\n            item\n            container\n            direction='row'\n            justifyContent='space-between'\n            spacing={5}\n          >\n            <Grid item md={6}>\n              <WithFallback<DescriptionProps>\n                data={details}\n                Component={Description}\n              />\n            </Grid>\n\n            <Grid item md={6}>\n              <WithFallback<RelatedStocksProps>\n                data={details}\n                Component={RelatedStocks}\n              />\n\n              <WithFallback<TagsProps> data={details} Component={Tags} />\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n    </Box>\n  );\n};\n","import ThemeProvider from \"@material-ui/styles/ThemeProvider\";\nimport { Layout } from \"components/Layout\";\nimport { TickerProvider } from \"context\";\nimport { HomePage } from \"pages/home\";\nimport { theme } from \"theme\";\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <TickerProvider>\n        <Layout>\n          <HomePage />\n        </Layout>\n      </TickerProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}